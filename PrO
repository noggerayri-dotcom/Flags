-- Always Classic R6 Idle Script
-- Place in StarterPlayerScripts or StarterCharacterScripts

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Wait for character to load
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Classic R6 idle animation
local idleAnimation = Instance.new("Animation")
idleAnimation.AnimationId = "rbxassetid://180435571" -- Classic R6 idle
local idleTrack = humanoid:LoadAnimation(idleAnimation)
idleTrack.Priority = Enum.AnimationPriority.Action -- High priority to override other animations
idleTrack.Looped = true
idleTrack:Play()

-- Function to force idle animation continuously
local function forceIdle()
    -- Stop all other animations
    for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
        if track ~= idleTrack then
            track:Stop()
        end
    end
    
    -- Play idle if not already
    if not idleTrack.IsPlaying then
        idleTrack:Play()
    end
end

-- Connect to humanoid state changes
humanoid.Running:Connect(forceIdle)
humanoid.Jumping:Connect(forceIdle)
humanoid.FreeFalling:Connect(forceIdle)
humanoid.Swimming:Connect(forceIdle)
humanoid.Climbing:Connect(forceIdle)
humanoid.Seated:Connect(forceIdle)
humanoid.Died:Connect(function()
    idleTrack:Stop()
end)

-- Loop check to ensure idle always plays
spawn(function()
    while humanoid.Parent do
        forceIdle()
        wait(0.1)
    end
end)
